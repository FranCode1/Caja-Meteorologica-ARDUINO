#include <LiquidCrystal_I2C.h>

// Definiciones
#define SENSOR A2
#define WET 210
#define DRY 510

LiquidCrystal_I2C lcd(0x27, 16, 2);

void setup() {
  Serial.begin(9600);
  lcd.init();
  lcd.backlight();
}

void loop() {
  int value = analogRead(SENSOR);
  Serial.println(value);

  // Mostrar valores en el LCD
  lcd.setCursor(0, 0);
  lcd.print("Moisture Value:");

  lcd.setCursor(0, 1);
  lcd.print(value);
  lcd.print("   "); // limpiar residuos si el número cambia de dígitos

  // Calcular porcentaje
  int percentage = map(value, WET, DRY, 100, 0);

  lcd.setCursor(10, 1);
  lcd.print(percentage);
  lcd.print("%");
}
